
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta charset="utf-8">
<!-- SlickGrid -->
<link rel="stylesheet" type="text/css" href="package/fancyBox-v2.1.5/jquery.fancybox.css" media="screen">
<link rel="stylesheet" type="text/css" href="package/SlickGrid/slick.grid.css"/>
<link rel="stylesheet" type="text/css" href="package/SlickGrid/css/smoothness/jquery-ui-1.11.4.css"/>
<link rel="stylesheet" type="text/css" href="package/SlickGrid/examples/examples.css"/>
<link rel="stylesheet" type="text/css" href="package/SlickGrid/controls/slick.pager.css"/>
<link rel="stylesheet" type="text/css" href="package/d3/d3.parcoords.css">

</head>

<body>

<script type="text/javascript" src="package/jquery.js"></script>
<script type="text/javascript" src="package/jquery.ui.js"></script>
<script type="text/javascript" src="package/jquery.ui.sortable.js"></script>
<script type="text/javascript" src="package/jquery.ui.button.js"></script>
<script type="text/javascript" src="package/jquery.ui.dialog.js"></script>
<script type="text/javascript" src="package/fancyBox-v2.1.5/jquery.fancybox.js"></script>
<script type="text/javascript" src="package/d3/d3.min.js"></script>
<script type="text/javascript" src="package/d3/d3.parcoords.js"></script>
<script type="text/javascript" src="package/SlickGrid/divgrid.js"></script>
<script type="text/javascript" src="package/SlickGrid/lib/jquery.event.drag-2.2.js"></script>
<script type="text/javascript" src="package/SlickGrid/slick.core.js"></script>
<script type="text/javascript" src="package/SlickGrid/slick.grid.js"></script>
<script type="text/javascript" src="package/SlickGrid/slick.dataview.js"></script>
<script type="text/javascript" src="package/SlickGrid/controls/slick.pager.js"></script>

<!-- End SlickGrid -->
<script type="text/javascript">
    $(document).ready( function() {
        $("a#single_image").fancybox();
});
</script>

<style>
.ui-widget, .tick {
  font-family: arial;
  font-size: 8pt;    
}

body, html {
  margin: 0;
  height: 100%;
  width: 100%;
  overflow: hidden;
  font-size: 12px;
  background-color: white;
}
body {
  overflow-y: scroll;
}

#p_grid, #p_pager {
  width: 100%;
}
#p_grid {
  bottom: 0;
  height: 400px;
}
#p_pager {
  bottom: 400px;
  height: 20px;
}
.slick-row:hover {
  font-weight: bold;
  color: #069;
}
.button2 {
	background: white url('package/SlickGrid/images/header-columns-over-bg.gif') repeat-x center bottom;
	border: 2px solid lightblue;
}
</style>

</head>

<div id="p_dataset" style="display:none;">
Sample	readLengthDist	readAnnoDist	Filter	total_reads	t_miRNA	t_hairpin	t_smallRNA	t_mRNA	t_unaligned	t_miRNA_mismatch	miRNA_detected	uniq_reads	u_miRNA	u_hairpin	u_smallRNA	u_mRNA	u_unaligned	u_miRNA_mismatch
SRR1759212	SRR1759212	SRR1759212	no	9950382	4744932	7730	547623	292186	4357911	521311	1188	430757	26741	2021	52741	87476	261778	19697
SRR1759213	SRR1759213	SRR1759213	no	10520905	6399838	10182	770980	380785	2959120	795102	1280	501101	31118	2547	63778	81269	322389	23090
SRR1759214	SRR1759214	SRR1759214	no	8870000	5336615	8169	545692	302654	2676870	644013	1226	395831	28320	1919	48029	61254	256309	20995
SRR1759215	SRR1759215	SRR1759215	no	8754732	4032049	7982	741071	455524	3518106	463122	1206	568054	26249	2395	63785	130072	345553	19054
SRR1759216	SRR1759216	SRR1759216	no	9480129	5264364	8438	604958	245340	3357029	594027	1237	386050	27873	1961	49873	54091	252252	20576
SRR1759217	SRR1759217	SRR1759217	no	8688952	3596101	7674	694948	545518	3844711	427165	1229	501002	26792	2356	61494	91224	319136	19447
SRR1759218	SRR1759218	SRR1759218	no	10480346	6283028	8785	573086	447624	3167823	733573	1297	490648	30797	2479	52610	127296	277466	22608
SRR1759219	SRR1759219	SRR1759219	no	12991643	7211138	13060	881726	500769	4384950	841609	1327	659712	33428	3283	71066	150232	401703	24850
SRR1759220	SRR1759220	SRR1759220	no	8638958	4900432	6618	525909	374551	2831448	554558	1224	379128	27869	1940	46105	70812	232402	20409
SRR1759221	SRR1759221	SRR1759221	no	14874043	4370434	9498	594524	914865	8984722	443502	1183	1341031	23782	3989	54709	642559	615992	17084
SRR1759222	SRR1759222	SRR1759222	no	13529421	10081457	15129	317091	377671	2738073	1584698	1342	614675	38442	3161	32606	133933	406533	30689
SRR1759223	SRR1759223	SRR1759223	no	17774884	7372423	13805	1520213	678750	8189693	873212	1232	1302863	25532	3088	83639	495641	694963	18583
SRR1759224	SRR1759224	SRR1759224	no	18826821	7520326	8933	726941	497713	10072908	872933	1233	788520	31036	3122	53554	245550	455258	24103
SRR1759225	SRR1759225	SRR1759225	no	13580483	5741925	15165	461576	882055	6479762	912750	1242	1450041	33361	5349	53775	542002	815554	26265
SRR1759226	SRR1759226	SRR1759226	no	15553772	8648967	11239	668351	846208	5379007	1027590	1201	1085960	30598	3836	47899	516170	487457	23759
SRR1759227	SRR1759227	SRR1759227	no	21263284	6347569	13776	654889	1120980	13126070	663296	1262	1476711	27572	5011	52945	727515	663668	20107
SRR1759228	SRR1759228	SRR1759228	no	13024245	3901421	11210	318499	779624	8013491	613164	1114	1539409	26792	4990	43070	534224	930333	20652
SRR1759229	SRR1759229	SRR1759229	no	15888532	4153444	16273	1322732	1401029	8995054	462795	1136	2043974	22943	4980	81136	1002137	932778	16405
SRR1759230	SRR1759230	SRR1759230	no	14085107	3565692	19594	777307	2075273	7647241	412694	1104	2717853	24208	7186	68338	1505545	1112576	18052
SRR1759231	SRR1759231	SRR1759231	no	15341983	7841244	9965	402539	408143	6680092	788916	1273	447542	28777	2687	39740	104897	271441	21075
SRR1759232	SRR1759232	SRR1759232	no	14483410	6999910	11584	551770	686147	6233999	1125292	1242	1144526	35546	3979	50518	410815	643668	28268
SRR1759233	SRR1759233	SRR1759233	no	16015129	6767839	13783	487845	1008720	7736942	737737	1253	1529865	31502	5588	42963	634154	815658	24134
SRR1759234	SRR1759234	SRR1759234	no	16468790	4213231	16120	2795578	871862	8571999	434431	1156	1048496	23092	3468	83469	416338	522129	16537
SRR1759235	SRR1759235	SRR1759235	no	9438935	4192077	10045	559020	652221	4025572	433780	1221	883278	25732	3740	51543	296654	505609	18273
SRR1759236	SRR1759236	SRR1759236	no	17505939	7983195	16391	1606339	493252	7406762	930075	1271	891467	27304	3297	80941	270501	509424	19652
SRR1759237	SRR1759237	SRR1759237	no	22687889	10503617	22240	2916019	1069802	8176211	993067	1307	1670242	29595	4134	97734	581841	956938	21304
SRR1759238	SRR1759238	SRR1759238	no	11512261	5351598	9290	1082124	232337	4836912	551831	1140	488494	23467	1992	60122	107092	295821	17253
SRR1759239	SRR1759239	SRR1759239	no	59031174	19827601	99386	2752560	6650777	29700850	2096214	1556	5719178	40055	20063	99689	2889594	2669777	28307
SRR1759240	SRR1759240	SRR1759240	no	20703011	8642299	16285	1759730	741168	9543529	1056130	1276	1181747	29883	3340	94338	341688	712498	22401
SRR1759241	SRR1759241	SRR1759241	no	117379221	52648207	81602	9531346	6243433	48874633	5492921	1716	8614897	63053	16037	206807	3334432	4994568	48933
SRR1759242	SRR1759242	SRR1759242	no	35799370	7112198	10605	850763	708774	27117030	797293	1180	1078849	24820	3125	59101	343252	648551	18433
SRR1759243	SRR1759243	SRR1759243	no	16777593	7137717	10710	619934	467662	8541570	833300	1210	622200	27446	3071	52778	188078	350827	20283
SRR1759244	SRR1759244	SRR1759244	no	8327965	4397682	6350	583186	370552	2970195	502105	1255	416442	27915	2049	50723	77986	257769	20242
SRR1759245	SRR1759245	SRR1759245	no	12072093	5550947	9732	824981	392849	5293584	598946	1242	595510	28304	2659	61110	167922	335515	20730
SRR1759246	SRR1759246	SRR1759246	no	20174899	10515130	12170	760695	517648	8369256	1525861	1344	599426	32994	3441	64512	145604	352875	24570
SRR1759247	SRR1759247	SRR1759247	no	13103608	3550445	8854	376252	696350	8471707	543721	1110	1368526	26474	4000	45896	512990	779166	20582
SRR1759248	SRR1759248	SRR1759248	no	16689607	7381089	14896	1372578	980159	6940885	757947	1284	1984950	27366	4631	83154	686471	1183328	19400
SRR1759249	SRR1759249	SRR1759249	no	20116149	11205094	15428	1310881	387834	7196912	1267230	1351	590587	32222	3233	72998	136518	345616	23555
SRR1759250	SRR1759250	SRR1759250	no	16640919	11867310	15439	844427	299924	3613819	1302619	1358	443961	32180	2996	57215	95524	256046	23458
SRR1759251	SRR1759251	SRR1759251	no	20104273	4955601	11349	1342088	198387	13596848	547523	1153	437883	22371	1926	67459	60656	285471	16056
SRR1759252	SRR1759252	SRR1759252	no	14061043	6381128	9680	793850	276283	6600102	785551	1210	553939	26302	2322	50411	149996	324908	19513
SRR1759253	SRR1759253	SRR1759253	no	13088117	6357796	14946	2017990	399532	4297853	720926	1211	584817	26321	2505	72287	147346	336358	19330
SRR1759254	SRR1759254	SRR1759254	no	18971058	7654485	18002	3293776	501601	7503194	847853	1255	578505	29420	2607	104344	73548	368586	22044
SRR1759255	SRR1759255	SRR1759255	no	20785294	10440040	21958	2959536	563760	6800000	1277438	1374	601730	32944	3184	96469	98123	371010	24737
SRR1759256	SRR1759256	SRR1759256	no	20362711	13941098	17087	1118367	542709	4743450	1785379	1380	754322	36659	3296	65131	249186	400050	28298
SRR1759257	SRR1759257	SRR1759257	no	20597373	5066975	6503	395713	171832	14956350	599869	1108	333656	23764	1895	37865	47739	222393	17561
SRR1759258	SRR1759258	SRR1759258	no	23362260	6786859	11496	1142363	1220719	14200823	865559	1214	1766035	27008	3542	66519	694717	974249	20124
SRR1759259	SRR1759259	SRR1759259	no	13883862	7697030	10325	1046857	355079	4774571	884220	1245	496073	27981	2211	56933	104951	303997	20923
SRR1759260	SRR1759260	SRR1759260	no	11594986	3614764	16674	735175	1176520	6051853	387634	1154	1635317	23937	5581	67391	784708	753700	16876
SRR1759261	SRR1759261	SRR1759261	no	17279605	5348910	14720	2205141	1452708	8258126	548936	1214	2097874	26606	4706	96871	880453	1089238	19123
SRR1759262	SRR1759262	SRR1759262	no	11626854	3299896	15836	615413	1006431	6689278	378240	1144	1377143	23280	4958	62280	669219	617406	16378
SRR1759263	SRR1759263	SRR1759263	no	17726201	12184793	18879	583662	392998	4545869	1968084	1385	736281	46720	3856	57203	121404	507098	37746
SRR1759264	SRR1759264	SRR1759264	no	11456098	6564245	6959	531325	236824	4116745	773909	1210	441873	31667	2185	45351	79803	282867	24633
SRR1759265	SRR1759265	SRR1759265	no	13928390	3944221	6589	522406	263782	9191392	430939	1104	309450	21508	1930	38955	47937	199120	15344
SRR1759266	SRR1759266	SRR1759266	no	13256697	3227695	6880	469778	311390	9240954	377824	1137	467223	23438	2522	48994	111806	280463	16670
SRR1759267	SRR1759267	SRR1759267	no	12888696	6851062	10373	445166	498707	5083388	1172487	1275	886854	36671	3806	48784	281995	515598	29374
SRR1759268	SRR1759268	SRR1759268	no	17140957	10291861	8520	493845	303244	6043487	1351684	1349	512722	37293	2792	42568	118954	311115	29377
SRR1759269	SRR1759269	SRR1759269	no	15272125	8775062	15267	1712254	563327	4206215	953746	1340	443418	32185	2748	70834	68389	269262	24044
SRR1759270	SRR1759270	SRR1759270	no	10880776	5503039	12490	740572	263702	4360973	614773	1221	418920	28464	2458	55711	77557	254730	20964
SRR1759271	SRR1759271	SRR1759271	no	12580727	7479129	11918	438998	453692	4196990	1201070	1238	904130	36250	3661	46461	229625	588133	28924
SRR1759272	SRR1759272	SRR1759272	no	15782800	9345005	8951	467627	262781	5698436	1100451	1291	434661	34201	2490	41677	75916	280377	26730
SRR1759273	SRR1759273	SRR1759273	no	17629880	9592515	10982	903505	483504	6639374	1201906	1350	709163	34272	3582	65975	179017	426317	25446
SRR1759274	SRR1759274	SRR1759274	no	9177036	3236795	10222	938639	694825	4296555	352019	1107	1024517	22591	3602	72242	442075	484007	15947
SRR1759275	SRR1759275	SRR1759275	no	9985891	3420640	12493	579670	849731	5123357	372270	1190	1421111	24291	5062	58888	510161	822709	17162
SRR1759212	SRR1759212	SRR1759212	yes	9556896	4734689	6308	504108	206427	4105364	512694	894	112475	18242	753	23094	5769	64617	12635
SRR1759213	SRR1759213	SRR1759213	yes	10044644	6385392	8138	719642	299208	2632264	783184	935	121281	19802	888	25762	6539	68290	13815
SRR1759214	SRR1759214	SRR1759214	yes	8536602	5325107	6856	515854	245184	2443601	634390	916	115547	18936	763	23417	6411	66020	13215
SRR1759215	SRR1759215	SRR1759215	yes	8194147	4021930	6275	686291	326445	3153206	454803	887	126524	17997	872	25951	8132	73572	12346
SRR1759216	SRR1759216	SRR1759216	yes	9155844	5253197	7183	572027	195042	3128395	584658	912	116450	18773	802	23840	6437	66598	13020
SRR1759217	SRR1759217	SRR1759217	yes	8179927	3584623	5732	640646	453732	3495194	417882	897	117948	17756	828	24473	6872	68019	12150
SRR1759218	SRR1759218	SRR1759218	yes	10059783	6268819	7049	538601	322532	2922782	721995	931	128095	19709	911	24819	8678	73978	13694
SRR1759219	SRR1759219	SRR1759219	yes	12342567	7194379	10270	823713	349284	3964921	827802	951	138966	20474	1052	28035	8588	80817	14296
SRR1759220	SRR1759220	SRR1759220	yes	8319042	4889163	5338	496978	306179	2621384	545329	912	114851	18651	768	22812	6936	65684	12899
SRR1759221	SRR1759221	SRR1759221	yes	13572424	4362142	6050	558485	246669	8399078	436684	890	139651	17043	1019	25399	9676	86514	11615
SRR1759222	SRR1759222	SRR1759222	yes	12866080	10046830	12157	295737	241576	2269780	1552443	948	113142	20842	918	16452	7161	67769	14952
SRR1759223	SRR1759223	SRR1759223	yes	16455594	7363730	11108	1443922	138858	7497976	866164	918	150419	18208	924	30916	8062	92309	12649
SRR1759224	SRR1759224	SRR1759224	yes	18027323	7502068	6369	688165	228959	9601762	856533	899	135608	19161	994	23859	9129	82465	13670
SRR1759225	SRR1759225	SRR1759225	yes	12011053	5718790	9861	419471	306747	5556184	891516	902	140357	19561	1112	22191	9777	87716	14023
SRR1759226	SRR1759226	SRR1759226	yes	14414158	8630460	7547	631983	259855	4884313	1010948	892	129266	18887	1010	21335	9013	79021	13467
SRR1759227	SRR1759227	SRR1759227	yes	19789016	6336479	9140	620442	356472	12466483	654247	923	147201	18824	1129	24890	10560	91798	13055
SRR1759228	SRR1759228	SRR1759228	yes	11412416	3886726	6437	287531	224896	7006826	599837	851	125221	17168	979	18810	8710	79554	12179
SRR1759229	SRR1759229	SRR1759229	yes	13656933	4146118	11230	1245726	264598	7989261	456955	891	151635	16829	1132	29565	10237	93872	11458
SRR1759230	SRR1759230	SRR1759230	yes	11146131	3555539	10881	713954	408617	6457140	404181	849	136997	16567	1050	23909	10185	85286	11599
SRR1759231	SRR1759231	SRR1759231	yes	14971403	7828812	7971	380808	304102	6449710	778766	931	125484	19123	933	21471	7342	76615	13260
SRR1759232	SRR1759232	SRR1759232	yes	13245162	6972541	7961	512945	251129	5500586	1099819	914	136557	20226	1020	21937	8920	84454	14532
SRR1759233	SRR1759233	SRR1759233	yes	14447499	6750095	8109	457747	322731	6908817	722071	922	130351	19388	1069	19673	9811	80410	13674
SRR1759234	SRR1759234	SRR1759234	yes	15360724	4205935	13071	2691970	409106	8040642	428511	886	143873	16926	1005	28452	9247	88243	11535
SRR1759235	SRR1759235	SRR1759235	yes	8612279	4182483	6901	526280	351580	3545035	426286	901	128315	17759	1002	24613	9693	75248	12064
SRR1759236	SRR1759236	SRR1759236	yes	16639949	7973050	13695	1531836	206040	6915328	922060	937	152098	18877	1063	30453	9066	92639	12967
SRR1759237	SRR1759237	SRR1759237	yes	20936188	10491137	18507	2800663	440245	7185636	983261	942	158166	19587	1099	31754	10044	95682	13443
SRR1759238	SRR1759238	SRR1759238	yes	11083540	5344002	7787	1034637	119649	4577465	545426	875	128998	17205	757	25916	6255	78865	11962
SRR1759239	SRR1759239	SRR1759239	yes	50635153	19789243	53871	2574889	2396510	25820640	2071547	975	144492	20770	1287	26835	11480	84120	14291
SRR1759240	SRR1759240	SRR1759240	yes	19221059	8626181	12710	1630496	289812	8661860	1042477	931	156062	19528	1013	30068	9291	96162	13705
SRR1759241	SRR1759241	SRR1759241	yes	105625164	52563034	55835	9109303	1683190	42213802	5423076	1017	192666	24310	1460	35808	12787	118301	17390
SRR1759242	SRR1759242	SRR1759242	yes	34514917	7100993	7318	795290	267497	26343819	787776	894	141609	17367	904	25467	7686	90185	12161
SRR1759243	SRR1759243	SRR1759243	yes	16122378	7124212	7763	576666	232536	8181201	821981	916	139150	18552	1004	25132	8692	85770	12905
SRR1759244	SRR1759244	SRR1759244	yes	7948856	4385913	4942	547225	293230	2717546	492618	907	113710	18412	795	23498	6566	64439	12627
SRR1759245	SRR1759245	SRR1759245	yes	11535867	5539470	7823	777942	227548	4983084	589459	926	130724	18943	957	26385	8301	76138	13079
SRR1759246	SRR1759246	SRR1759246	yes	19610124	10496641	9297	710753	357064	8036369	1510490	946	139434	20250	1028	26808	8658	82690	14164
SRR1759247	SRR1759247	SRR1759247	yes	11686830	3536719	5363	344187	166044	7634517	531053	869	129956	17266	975	20566	8911	82238	12332
SRR1759248	SRR1759248	SRR1759248	yes	14647229	7370723	10550	1298678	234982	5732296	749977	939	150335	18846	1076	31154	9539	89720	12829
SRR1759249	SRR1759249	SRR1759249	yes	19580276	11189624	12597	1252483	243143	6882429	1255018	968	145178	20392	993	29931	7797	86065	14162
SRR1759250	SRR1759250	SRR1759250	yes	16264846	11851755	12766	801129	200338	3398858	1290393	951	126887	20332	960	26137	6841	72617	14116
SRR1759251	SRR1759251	SRR1759251	yes	19717798	4949208	9954	1281144	138563	13338929	542262	886	126453	16790	747	26796	5848	76272	11475
SRR1759252	SRR1759252	SRR1759252	yes	13561486	6370415	7912	759961	115967	6307231	776564	904	123939	18000	836	24344	6550	74209	12539
SRR1759253	SRR1759253	SRR1759253	yes	12528066	6347925	12848	1946559	240263	3980471	712778	915	135479	18424	870	27035	7283	81867	12799
SRR1759254	SRR1759254	SRR1759254	yes	18339597	7641549	15692	3147470	422599	7112287	836913	926	139209	19452	872	28940	6181	83764	13676
SRR1759255	SRR1759255	SRR1759255	yes	20113098	10422455	18732	2828746	450418	6392747	1262911	959	137513	20503	950	28218	6953	80889	14473
SRR1759256	SRR1759256	SRR1759256	yes	19523078	13914204	13735	1058644	223089	4313406	1762012	966	149610	21388	1023	28227	8391	90581	15210
SRR1759257	SRR1759257	SRR1759257	yes	20303662	5057903	4947	370548	118906	14751358	592121	868	116956	17160	762	20518	5327	73189	11948
SRR1759258	SRR1759258	SRR1759258	yes	21135510	6772798	7436	1065524	290833	12998919	853703	896	132065	17989	871	24629	7896	80680	12561
SRR1759259	SRR1759259	SRR1759259	yes	13369907	7683093	8271	995418	225346	4457779	872323	905	126293	18729	793	24827	6811	75133	13074
SRR1759260	SRR1759260	SRR1759260	yes	9900155	3606621	10903	678781	339707	5264143	381342	887	134090	17047	1073	26834	9951	79185	11523
SRR1759261	SRR1759261	SRR1759261	yes	15094576	5338395	10412	2079702	520046	7146021	540546	908	147902	18182	1067	29051	10122	89480	12413
SRR1759262	SRR1759262	SRR1759262	yes	10253850	3292344	10889	566534	313032	6071051	372424	863	132352	16763	1051	26062	10109	78367	11344
SRR1759263	SRR1759263	SRR1759263	yes	16873362	12133772	15242	536058	270355	3917935	1920404	968	139237	22586	1100	23612	8169	83770	16241
SRR1759264	SRR1759264	SRR1759264	yes	11063039	6546196	5403	502080	157725	3851635	757567	897	118487	19439	824	21886	6400	69938	13809
SRR1759265	SRR1759265	SRR1759265	yes	13672525	3937457	5249	493309	218630	9017880	425468	850	103482	15939	742	18402	5308	63091	10858
SRR1759266	SRR1759266	SRR1759266	yes	12827600	3219961	4926	436107	200961	8965645	371749	875	112210	16783	813	23166	6660	64788	11399
SRR1759267	SRR1759267	SRR1759267	yes	11940132	6819324	7017	406247	206951	4500593	1142777	908	131678	20130	1021	20519	9190	80818	14483
SRR1759268	SRR1759268	SRR1759268	yes	16650317	10257773	6171	467604	181587	5737182	1320635	935	122750	20302	903	21198	7241	73106	14449
SRR1759269	SRR1759269	SRR1759269	yes	14831655	8758828	13043	1612918	493656	3953210	940108	939	125171	20346	935	23917	6475	73498	14278
SRR1759270	SRR1759270	SRR1759270	yes	10504933	5491500	10544	691701	189693	4121495	605172	912	117900	18960	858	24110	6690	67282	13121
SRR1759271	SRR1759271	SRR1759271	yes	11639407	7450528	8666	406536	217099	3556578	1174365	926	130200	20468	1015	21304	8307	79106	14704
SRR1759272	SRR1759272	SRR1759272	yes	15389014	9323026	6991	441933	185547	5431517	1080635	937	120796	20192	869	20838	6540	72357	14439
SRR1759273	SRR1759273	SRR1759273	yes	16956943	9570002	7544	852398	298789	6228210	1183659	934	150124	20134	1078	27437	9097	92378	14083
SRR1759274	SRR1759274	SRR1759274	yes	8170464	3229666	7209	869848	245836	3817905	346381	861	130472	16392	1011	27429	9491	76149	11047
SRR1759275	SRR1759275	SRR1759275	yes	8565045	3412254	7750	533504	323516	4288021	365730	889	130311	17093	1075	25023	9502	77618	11530
</div>

<div id="p_canvas1" class="parcoords" style="height: 240px;"></div>

<div id="p_canvas1_inst" style="padding:4px;font-size:10pt;">
<b>Controls:</b> 
<b>Brush</b> - Drag vertically along an axis.
<b>Remove Brush</b> - Tap the axis background.
<b>Reorder Axes</b> - Drag an axis label horizontally.
<b>Color Lines by Values</b> - Click on an axis label.
<b>Invert Axis</b> - Double click on an axis label.
<b>Remove Axis</b> - Drag axis label off the left or the right edge.
<b>Tooltip</b> - Click on a line to show values, move out of the canvas to remove tooptip.
</div>
<hr>
<div id="dialog_Sample" title="Sample" style="display:none;">
  <p>Sample identifier provided by user</p>
</div>
<div id="dialog_readLengthDist" title="readLengthDist" style="display:none;">
  <p>The length distribution of clean miRNA-seq reads</p>
</div>
<div id="dialog_readAnooDist" title="readAnooDist" style="display:none;">
  <p>The distribution of all annotated miRNA-seq reads</p>
</div>
<div id="dialog_Filter" title="Filter" style="display:none;">
  <p>Whether noisy reads are excluded from the analysis or not</p>
</div>
<div id="dialog_total_reads" title="total_reads" style="display:none;">
  <p>The total number of reads ready for alignment in this sample</p>
</div>
<div id="dialog_t_miRNA" title="t_miRNA" style="display:none;">
  <p>The total number of reads mapped to miRNA</p>
</div>
<div id="dialog_t_hairpin" title="t_hairpin" style="display:none;">
  <p>The total number of reads mapped to hairpin</p>
</div>
<div id="dialog_t_smallRNA" title="t_smallRNA" style="display:none;">
  <p>The total number of reads mapped to small RNA</p>
</div>
<div id="dialog_t_mRNA" title="t_mRNA" style="display:none;">
  <p>The total number of reads mapped to mRNA</p>
</div>
<div id="dialog_t_unaligned" title="t_unaligned" style="display:none;">
  <p>The total number of unmapped reads</p>
</div>
<div id="dialog_t_miRNA_mismatch" title="t_miRNA_mismatch" style="display:none;">
  <p>The total number of reads mapped to miRNA with mismatches</p>
</div>
<div id="dialog_miRNA_detected" title="miRNA_detected" style="display:none;">
  <p>The total number of detected miRNA</p>
</div>
<div id="dialog_uniq_reads" title="uniq_reads" style="display:none;">
  <p>The unique number of reads mapped to miRNA</p>
</div>
<div id="dialog_u_miRNA" title="u_miRNA" style="display:none;">
  <p>The unique number of reads mapped to mRNA</p>
</div>
<div id="dialog_u_hairpin" title="u_hairpin" style="display:none;">
  <p>The unique number of reads mapped to hairpin</p>
</div>
<div id="dialog_u_smallRNA" title="u_smallRNA" style="display:none;">
  <p>The unique number of reads mapped to small RNA</p>
</div>
<div id="dialog_u_mRNA" title="u_mRNA" style="display:none;">
  <p>The unique number of reads mapped to mRNA</p>
</div>
<div id="dialog_u_unaligned" title="u_unaligned" style="display:none;">
  <p>The unique number of unmapped reads</p>
</div>
<div id="dialog_u_miRNA_mismatch" title="u_miRNA_mismatch" style="display:none;">
  <p>The unique number of reads mapped to miRNA with mismatches</p>
</div>
<div id="dialog_id" title="id" style="display:none;">
  <p>ID automatically generated by the tool for internal control of uniqueness of records</p>
</div>
<table border=0 cellpadding=3 width=100%>
<tr>
<td width=20% nowrap>Search: <input type="text" id="p_txtSearch" value=""></td>
<td width=70% align=center><b>Right click on a column header to show the explanation.</b></td>
<td width=10% nowrap><button class=button2><b>Show or hide QC plot</b></button></td>
</tr>
</table>

<div id="p_grid"></div>
<div id="p_pager"></div>


<script type="text/javascript">

$("button").click(function(){
	$("#p_canvas1").toggle();
	$("#p_canvas1_inst").toggle();
	if($('#p_canvas1').is(':hidden')) {
		$("#p_grid").height(800);
	} else {
		$("#p_grid").height(400);
	}
	p_grid.resizeCanvas()
});

var color_set = d3.scale.linear().range(["#3182bd", "#f33"]);

var parcoords = d3.parcoords()("#p_canvas1")
	.alpha(0.4)
	.mode("queue") // progressive rendering
	.height(240)
	.margin({
		top: 36,
		left: 0,
		right: 0,
		bottom: 16
	});

// load tsv file and create the chart

var p_dataset = d3.select('#p_dataset').text().replace(/^\s+|\s+$/g, '');
var p_data = d3.tsv.parse(p_dataset);


p_data.forEach(function(d, i) {
	d.id = d.id || i;
});

parcoords
	.data(p_data)
	.hideAxis(["id", "readLengthDist", "readAnnoDist"])
	.render()
	.margin({
		top: 40,
		right: 20,
		bottom: 20,
		left: 50
	})
	.reorderable()
	.brushMode("1D-axes");

// setting up grid
var p_cols_keys = d3.keys(p_data[0]);
var p_columns = p_cols_keys.map(function(key, i) {
	return {
		id: key,
		name: key,
		field: key,
		sortable: true
	}
});


// update_colors(d3.keys(p_data[0])[2]);

// click label to activate coloring
parcoords.svg.selectAll(".dimension")
	.on("click", update_colors)
	.selectAll(".label")
	.style("font-size", "10px"); // change font sizes of selected label


//add hover event
d3.select("#p_canvas1 svg")
	.on("click", function() {
		var mousePosition = d3.mouse(this);
		highlightLineOnClick(mousePosition, true); //true will also add tooltip
	})
	.on("mouseout", function() {
		cleanTooltip();
		parcoords.unhighlight();
	});


// update color and font weight of chart based on axis selection
// modified from here: https://syntagmatic.github.io/parallel-coordinates/
function update_colors(dimension) {

console.log(dimension);

	// change the fonts to bold
	parcoords.svg.selectAll(".dimension")
		.style("font-weight", "normal")
		.filter(function(d) {
			return d == dimension;
		})
		.style("font-weight", "bold");

	// change color of lines
	// set domain of color scale
	var values0 = getActiveData().map(function(d) {
		return d[dimension];
	});
	values = values0.map(function(d) {return parseFloat(d)});

	if (isNaN(values[0])) {
		var n = {},j=1,i;
		for(i = 0; i < values0.length; i++) {
			if (!n[values0[i]]) {
				n[values0[i]] = j++; 
			}
		}
		for(i = 0; i < values.length; i++) {
			values[i] = n[values0[i]];
		}
	}

	color_set.domain([d3.min(values), d3.max(values)]);

	// change colors for each line
//	parcoords.color(function(d) {
//		return color_set([d[dimension]])
//	}).render();

	parcoords.color(function(d,i) {
		return color_set(values[i])
	}).render();
};


// Add highlight for every line on click
function getCentroids(cd) {
	// this function returns centroid points for cd. I had to change the source
	// for parallelcoordinates and make compute_centroids public.
	// I assume this should be already somewhere in graph and I don't need to recalculate it
	// but I couldn't find it so I just wrote this for now
	var margins = parcoords.margin();
	var graphCentPts = [];

	cd.forEach(function(d) {

		var initCenPts = parcoords.compute_centroids(d).filter(function(d, i) {
			return i % 2 == 0;
		});

		// move points based on margins
		var cenPts = initCenPts.map(function(d) {
			return [d[0] + margins["left"], d[1] + margins["top"]];
		});

		graphCentPts.push(cenPts);
	});

	return graphCentPts;
}

function getActiveData() {
	// I'm pretty sure this data is already somewhere in graph
	if (parcoords.brushed() != false) return parcoords.brushed();
	return parcoords.data();
}

function isOnLine(startPt, endPt, testPt, tol) {
	// check if test point is close enough to a line
	// between startPt and endPt. close enough means smaller than tolerance
	var x0 = testPt[0];
	var y0 = testPt[1];
	var x1 = startPt[0];
	var y1 = startPt[1];
	var x2 = endPt[0];
	var y2 = endPt[1];
	var Dx = x2 - x1;
	var Dy = y2 - y1;
	var delta = Math.abs(Dy * x0 - Dx * y0 - x1 * y2 + x2 * y1) / Math.sqrt(Math.pow(Dx, 2) + Math.pow(Dy, 2));
	//console.log(delta);
	if (delta <= tol) return true;
	return false;
}

function findAxes(testPt, cenPts) {
	// finds between which two axis the mouse is
	var x = testPt[0];
	var y = testPt[1];

	// make sure it is inside the range of x
	if (cenPts[0][0] > x) return false;
	if (cenPts[cenPts.length - 1][0] < x) return false;

	// find between which segment the point is
	for (var i = 0; i < cenPts.length; i++) {
		if (cenPts[i][0] > x) return i;
	}
}

function cleanTooltip() {
	// removes any object under #tooltip is
	parcoords.svg.selectAll("#tooltip")
		.remove();
}

function addTooltip(clicked, clickedCenPts) {

	// add tooltip to multiple clicked lines
	var clickedDataSet = [];
	var margins = parcoords.margin();
	var dim = parcoords.dimensions();

	// get all the values into a single list
	// I'm pretty sure there is a better way to write this is Javascript
	for (var i = 0; i < clicked.length; i++) {
//console.log(clicked[i]);
		for (var j = 0; j < clickedCenPts[i].length; j++) {
// Baohong: fix the bug here, should match displaying axis
//			var text = d3.values(clicked[i])[j];
			var text = String(clicked[i][dim[j]]); // It must be String type
			// not clean at all!
			var x = clickedCenPts[i][j][0] - margins.left;
			var y = clickedCenPts[i][j][1] - margins.top;
			clickedDataSet.push([x, y, text]);
		}
	};


	// add rectangles
	var fontSize = 14;
	var padding = 2;
	var rectHeight = fontSize + 2 * padding; //based on font size

	parcoords.svg.selectAll("rect[id='tooltip']")
		.data(clickedDataSet).enter()
		.append("rect")
		.attr("x", function(d) {
			return d[0] - d[2].length * 5;
		})
		.attr("y", function(d) {
			return d[1] - rectHeight + 2 * padding;
		})
		.attr("rx", "2")
		.attr("ry", "2")
		.attr("id", "tooltip")
		.attr("fill", "grey")
		.attr("opacity", 0.9)
		.attr("width", function(d) {
			return d[2].length * 10;
		})
		.attr("height", rectHeight);

	// add text on top of rectangle
	parcoords.svg.selectAll("text[id='tooltip']")
		.data(clickedDataSet).enter()
		.append("text")
		.attr("x", function(d) {
			return d[0];
		})
		.attr("y", function(d) {
			return d[1];
		})
		.attr("id", "tooltip")
		.attr("fill", "white")
		.attr("text-anchor", "middle")
		.attr("font-size", fontSize)
		.text(function(d) {
			return d[2];
		})
}

function getClickedLines(mouseClick) {
	var clicked = [];
	var clickedCenPts = [];

	// find which data is activated right now
	var activeData = getActiveData();

	// find centriod points
	var graphCentPts = getCentroids(activeData);

	if (graphCentPts.length == 0) return false;

	// find between which axes the point is
	var axeNum = findAxes(mouseClick, graphCentPts[0]);
	if (!axeNum) return false;

	graphCentPts.forEach(function(d, i) {
		if (isOnLine(d[axeNum - 1], d[axeNum], mouseClick, 2)) {
			clicked.push(activeData[i]);
			clickedCenPts.push(graphCentPts[i]); // for tooltip
		}
	});

	return [clicked, clickedCenPts]
}


function highlightLineOnClick(mouseClick, drawTooltip) {

	var clicked = [];
	var clickedCenPts = [];

	clickedData = getClickedLines(mouseClick);

	if (clickedData && clickedData[0].length != 0) {

		clicked = clickedData[0];
		clickedCenPts = clickedData[1];

		// highlight clicked line
		parcoords.highlight(clicked);

		if (drawTooltip) {
			// clean if anything is there
			cleanTooltip();
			// add tooltip
			addTooltip(clicked, clickedCenPts);
		}

	}
}


// SlickGrid
var p_options = {
	enableCellNavigation: true,
	rowHeight: 55,
	multiColumnSort: false
};

p_columns[1] = {
    id: "readLengthDist",
    name: "readLengthDist",
    width: 100,
    field: "readLengthDist",
    formatter: linkFormatter = function(row, cell, value, columnDef, dataContext) {
        return '<a id=single_image href=graphs/' + value + '.readLengthDistribution.png><img src=graphs/' + value + '.readLengthDistribution.png width=100px height=50px></a>';
    }
};

p_columns[2] = {
    id: "readAnnoDist",
    name: "readAnnoDist",
    width: 100,
    field: "readAnnoDist",
    formatter: linkFormatter = function(row, cell, value, columnDef, dataContext) {
        return '<a id=single_image href=graphs/' + value + '.readAnnotDistribution.png><img src=graphs/' + value + '.readAnnotDistribution.png width=100px height=50px></a>';
    }
};


var p_dataView = new Slick.Data.DataView();
var p_grid = new Slick.Grid("#p_grid", p_dataView, p_columns, p_options);
var p_pager = new Slick.Controls.Pager(p_dataView, p_grid, $("#p_pager"));

// wire up model events to drive the grid
p_dataView.onRowCountChanged.subscribe(function(e, args) {
	p_grid.updateRowCount();
	p_grid.render();
});

p_dataView.onRowsChanged.subscribe(function(e, args) {
	p_grid.invalidateRows(args.rows);
	p_grid.render();
});


// column sorting
var p_sortcol = p_cols_keys[0];
var p_sortdir = 1;

function p_comparer(a, b) {

    // Baohong Zhang: fix to sort numberic values
    if ($.isNumeric(a[p_sortcol]) && $.isNumeric(b[p_sortcol])) {
		a[p_sortcol] = parseFloat(a[p_sortcol], 10);
		b[p_sortcol] = parseFloat(b[p_sortcol], 10);
	}

	var x = a[p_sortcol],
		y = b[p_sortcol];
	return (x == y ? 0 : (x > y ? 1 : -1));
}

// click header to sort grid column
p_grid.onSort.subscribe(function(e, args) {
	p_sortdir = args.sortAsc ? 1 : -1;
	p_sortcol = args.sortCol.field;

	p_dataView.sort(p_comparer, args.sortAsc);
});

// highlight row in chart
// Baohong: Added Tooltip
p_grid.onMouseEnter.subscribe(function(e, args) {
//	var d = parcoords.brushed() || p_data;
	var r = p_grid.getCellFromEvent(e).row;
	var i = p_dataView.getIdxById(p_grid.getDataItem(r)["id"])  // Baohong: sorting changes underlying data order

	var d = parcoords.brushed() || p_data;
	parcoords.highlight([d[i]]);
	// clean if anything is there
	cleanTooltip();
	// add tooltip
	addTooltip([d[i]], getCentroids([d[i]]));
});

p_grid.onMouseLeave.subscribe(function(e, args) {
	parcoords.unhighlight();
	cleanTooltip();
});

p_grid.onHeaderContextMenu.subscribe(function(e, args) {
	e.preventDefault();
	var theDialog = $("#dialog_"+args.column.id).dialog();
	theDialog.dialog("option", "position", [e.pageX,e.pageY]);
	theDialog.dialog("open");
});

// update grid on brush
parcoords.on("brush", function(d) {
	p_gridUpdate(d);
});


var p_searchString = "";

function p_myFilter(d, args) {
	if (args.p_searchString != "" && d[p_columns[0].name].toUpperCase().indexOf(args.p_searchString.toUpperCase()) == -1 &&
		d[p_columns[1].name].toUpperCase().indexOf(args.p_searchString.toUpperCase()) == -1 &&
		d[p_columns[2].name].toUpperCase().indexOf(args.p_searchString.toUpperCase()) == -1 &&
		d[p_columns[3].name].toUpperCase().indexOf(args.p_searchString.toUpperCase()) == -1) {
		return false;
	}
	return true;
}

$("#p_txtSearch").keyup(function(e) {
	Slick.GlobalEditorLock.cancelCurrentEdit();

	// clear on Esc
	if (e.which == 27) {
		this.value = "";
	}

	p_searchString = this.value;
	p_updateFilter();
});

function p_updateFilter() {
	p_dataView.setFilterArgs({
		p_searchString: p_searchString
	});
	p_dataView.refresh();
}

function p_gridUpdate(d) {
	p_dataView.beginUpdate();
	p_dataView.setItems(d);

	p_dataView.setFilterArgs({
		p_searchString: p_searchString
	});

	p_dataView.setFilter(p_myFilter);

	p_dataView.endUpdate();
};

// fill grid with data
p_gridUpdate(p_data);

//window.onload = function() {
//	if(!window.location.hash) {
//		window.location = window.location + '#loaded';
//		window.location.reload();
//	}
//}
</script>

</body>
</html>
